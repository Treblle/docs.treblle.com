---
import config from 'virtual:starlight/user-config';
import { Icon } from '@astrojs/starlight/components';

// Type assertion to handle the social links configuration
const socialLinks = (config.social || []).map((item: any) => ({
  icon: item.icon,
  link: item.link || item.href,
  label: item.label || (typeof item.icon === 'string' 
    ? item.icon.charAt(0).toUpperCase() + item.icon.slice(1)
    : 'Link')
}));
---

{
  socialLinks.length > 0 && (
    <>
      {socialLinks.map(({ icon, link, label }) => (
          <a href={link} class="sl-flex" aria-label={label} title={label} target="_blank" rel="noopener noreferrer">
            <span class="sr-only">{label}</span>
            <Icon name={icon} />
          </a>
      ))}
      <a href="https://treblle.com" class="sl-flex" aria-label="treblle.com" title="treblle.com" target="_blank" rel="noopener noreferrer">
        treblle.com
      </a>
    </>
  )
}

<style>
  a {
    color: var(--sl-color-text-accent);
    padding: 0.5em;
    margin: -0.5em;
  }
  a:hover {
    opacity: 0.66;
  }
</style>
